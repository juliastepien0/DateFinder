<EditProfileWindow>:
    name: name
    age: age
    bio: bio
    location: location
    profile_picture_url: profile_picture_url
    interests: interests
    preferred_age_min: preferred_age_min
    preferred_age_max: preferred_age_max
    distance_max: distance_max
    is_premium_label: is_premium_label

    ScrollView:
        MDBoxLayout:
            orientation: 'vertical'
            padding: 10
            spacing: 10
            size_hint_y: None
            height: self.minimum_height

            MDLabel:
                text: "Edit Profile"
                font_style: 'H4'
                theme_text_color: "Primary"
                halign: 'center'
                bold: True
                size_hint_y: None
                height: 60

            MDTextField:
                id: name
                hint_text: "Name"
                icon_right: "account"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDTextField:
                id: age
                hint_text: "Age"
                icon_right: "calendar"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDLabel:
                text: "Gender"
                theme_text_color: "Hint"
                size_hint_y: None
                height: 30
                pos_hint: {"center_x": 0.5}

            MDBoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: 40
                spacing: 20
                pos_hint: {"center_x": 0.5}

                MDLabel:
                    text: "Male"
                    size_hint_x: None
                    width: 80
                    halign: 'center'
                MDCheckbox:
                    group: 'gender'
                    on_active: root.set_gender('Male')

                MDLabel:
                    text: "Female"
                    size_hint_x: None
                    width: 80
                    halign: 'center'
                MDCheckbox:
                    group: 'gender'
                    on_active: root.set_gender('Female')

            MDTextField:
                id: bio
                hint_text: "Bio"
                icon_right: "information"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDTextField:
                id: location
                hint_text: "Location"
                icon_right: "map-marker"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDTextField:
                id: profile_picture_url
                hint_text: "Profile Picture URL"
                icon_right: "image"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDRaisedButton:
                text: "Choose Profile Picture"
                size_hint_y: None
                height: 50
                pos_hint: {"center_x": 0.5}
                on_release: root.file_chooser_open()

            MDTextField:
                id: interests
                hint_text: "Interests"
                icon_right: "star"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDLabel:
                text: "Preferences"
                font_style: 'H5'
                theme_text_color: "Primary"
                halign: 'center'
                bold: True

            MDLabel:
                text: "Preferred Gender"
                theme_text_color: "Hint"
                size_hint_y: None
                height: 30
                pos_hint: {"center_x": 0.5}

            MDBoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: 40
                spacing: 20
                pos_hint: {"center_x": 0.5}

                MDLabel:
                    text: "Male"
                    size_hint_x: None
                    width: 80
                    halign: 'center'
                MDCheckbox:
                    group: 'preferred_gender'
                    on_active: root.set_preferred_gender('Male')

                MDLabel:
                    text: "Female"
                    size_hint_x: None
                    width: 80
                    halign: 'center'
                MDCheckbox:
                    group: 'preferred_gender'
                    on_active: root.set_preferred_gender('Female')

            MDTextField:
                id: preferred_age_min
                hint_text: "Preferred Age Min"
                icon_right: "calendar"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDTextField:
                id: preferred_age_max
                hint_text: "Preferred Age Max"
                icon_right: "calendar"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDTextField:
                id: distance_max
                hint_text: "Max Distance (km)"
                icon_right: "map-marker-distance"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDLabel:
                id: is_premium_label
                text: "Premium Status: Basic"
                theme_text_color: "Hint"
                size_hint_y: None
                height: 40
                pos_hint: {"center_x": 0.5}

            MDRaisedButton:
                text: "Upgrade to Premium"
                size_hint_y: None
                height: 50
                pos_hint: {"center_x": 0.5}
                on_release: root.upgrade_to_premium()

            MDRaisedButton:
                text: "UPDATE PROFILE"
                size_hint_y: None
                height: 50
                pos_hint: {"center_x": 0.5}
                on_release:
                    root.update_profile()
                    root.manager.transition.direction = "up"

            MDFlatButton:
                text: "Back to Home"
                size_hint_y: None
                height: 50
                pos_hint: {"center_x": 0.5}
                on_release:
                    app.root.current = 'home'
                    root.manager.transition.direction = "right"
